<!-- Button trigger modal -->
<button type="button" hidden id="activeModalSchedaAnagrafica" class="btn btn-primary " data-bs-toggle="modal"
    data-bs-target="#modalSchedaAnagrafica"></button>

<div class="modal fade bd-example-modal-xl" id="modalSchedaAnagrafica" tabindex="-1" role="dialog"
    aria-labelledby="myExtraLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-insert-voto-estero">
        <div class="modal-content">
            <div class="modal-header mb-2">
                <h4 class="modal-title">Convalida/Annulla Rappresentante Legale/Responsabile dell'organismo</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal"
                    aria-label="Chiudi finestra modale"></button>
            </div>
            <div class="modal-body modal-body-update">
                <div class="container">
                    <div class="row">
                        <div class="col">
                            <p class="fw-semibold">Qualifica</p>
                            <div *ngIf="updateAnagraficaRapLegale" class=" form-check ">
                                <input [disabled]="true" name="radio1" checked type="radio" class="with-gap"
                                    id="radio1">
                                <label for="radio1">Rappresentante</label>
                                <input [disabled]="true" name="radio2" checked type="radio" class="with-gap"
                                    id="radio2">
                                <label for="radio2">Responsabile</label>
                            </div>
                            <div *ngIf="updateAnagraficaRapLegale === false" class=" form-check ">
                                <input [disabled]="true" name="radio1" [(ngModel)]="idQualifica" [value]="'1'"
                                    type="radio" class="with-gap" id="radio1">
                                <label for="radio1">Rappresentante</label>
                                <input [disabled]="true" name="radio2" [(ngModel)]="idQualifica" [value]="'2'"
                                    type="radio" class="with-gap" id="radio2">
                                <label for="radio2">Responsabile</label>
                            </div>
                        </div>
                        <div class="col mt-4 select-wrapper">
                            <label for="titoloSS">Titolo</label>
                            <select type="text" [(ngModel)]="idTitolo" (change)="checkTitolo()" [disabled]="true"
                                id="titoloSS" class="data_input">
                                <option [value]=""></option>
                                <option *ngFor="let titolo of titoliAnagrafiche" [value]="titolo.idTitoloAnagrafiche">
                                    {{ titolo.descrizione }}
                                </option>
                            </select>
                            <span style="color:red" *ngIf="validTitolo === false"> Obbligatorio </span>
                        </div>
                        <div class="col">
                            <div class="div-p-intest-radio">
                                <p class="fw-semibold">Sesso</p>
                            </div>
                            <div class="form-check ">
                                <input name="radio3" [checked]="sesso === 'M'" [value]="'M'" [disabled]="true"
                                    type="radio" class="with-gap" id="radio3" (change)="sessoCheckboxChange('M')">
                                <label for="radio3">Maschio</label>
                                <input name="radio4" [checked]="sesso === 'F'" [value]="'F'" [disabled]="true"
                                    type="radio" class="with-gap" id="radio4" (change)="sessoCheckboxChange('F')">
                                <label for="radio4">Femmina</label>
                            </div>
                            <span style="color:red" *ngIf="validSesso === false"> Obbligatorio </span>
                        </div>
                    </div>
                </div>
                <div class="row margin-row-top">
                    <div class="col">
                        <div class="select-wrapper">
                            <label for="cognomeRapLegale" [ngClass]="{'active': !!cognome}">
                                Cognome
                            </label>
                            <input type="text" [disabled]="true" [(ngModel)]="cognome" (blur)="checkCognome()"
                                class="data_input" id="cognomeRapLegale" />
                            <span style="color:red" *ngIf="validCognome === false"> Obbligatorio </span>
                        </div>
                    </div>
                    <div class="col">
                        <div class="select-wrapper">
                            <label for="nomeRapLegale" [ngClass]="{'active': !!nome}">
                                Nome
                            </label>
                            <input type="text" [disabled]="true" [(ngModel)]="nome" (blur)="checkNome()"
                                class="data_input" id="nomeRapLegale" />
                            <span style="color:red" *ngIf="validNome === false"> Obbligatorio </span>
                        </div>
                    </div>
                    <div class="col">
                        <div class="select-wrapper">
                            <label for="dataRapLegale" class="active">
                                Data di nascita
                            </label>
                            <input type="date" [(ngModel)]="dataNascita" (blur)="checkDataNascita()" [disabled]="true"
                                class="data_input" id="dataNascita" name="dataNascita" data-focus-mouse="false"
                                id="dataNascita" />
                            <span style="color:red" *ngIf="validDataNascita === false"> Obbligatorio </span>
                        </div>
                    </div>
                </div>
                <div class="row margin-row-top">
                    <div class="col">
                        <div class="select-wrapper">
                            <label for="isEsteroNascita">Stato di nascita</label>
                            <select type="text" [(ngModel)]="isEsteroNascita" [disabled]="true" id="isEsteroNascita"
                                [value]="" class="data_input">
                                <option [value]="'false'">Italia</option>
                                <option [value]="'true'">Estero</option>
                            </select>
                        </div>
                    </div>
                    <div class="col select-wrapper" *ngIf="isEsteroNascita === 'false'">
                        <label for="comune" class="active">Luogo di nascita</label>
                        <input aria-expanded="false" [(ngModel)]="comuneSceltoNascita" [disabled]="true"
                            (blur)="checkComuneSceltoNascita()" (input)="loadComuneNascita($event)" class="data_input"
                            autocomplete="off" id="comune" type="text" [placeholder]="'Selezionare un comune'">
                        <span style="color:red" *ngIf="validComuneSceltoNascita === false"> Obbligatorio </span>

                        <ul *ngIf="showListComuneNascita"
                            class="autocomplete__menu autocomplete__menu--inline autocomplete__menu--inline select-liste-ul"
                            id="comuneNascitaAutocompleteListbox" role="listbox">
                            <li aria-selected="false" class="autocomplete__option" role="option" tabindex="-1"
                                aria-posinset="1" aria-setsize="32" *ngFor="let comune of comuniNascita"
                                (click)="selectComuneNascita(comune.idCodComune, comune.nomeComune + ' (' + comune.regioneProvince.siglaProvincia + ')')">
                                {{comune.nomeComune + " (" + comune.regioneProvince.siglaProvincia + ")"}}
                            </li>
                        </ul>
                    </div>
                    <div class="col select-wrapper" *ngIf="isEsteroNascita === 'true'">
                        <label for="nomeStatoDiNasc" [ngClass]="{'active': !!statoNascita}">
                            Nome stato di nascita
                        </label>
                        <input type="text" [(ngModel)]="statoNascita" (blur)="checkStatoNascita()" [disabled]="true"
                            class="data_input" id="nomeStatoDiNasc" />
                        <span style="color:red" *ngIf="validStatoNascita === false"> Obbligatorio </span>
                    </div>
                    <div class="col select-wrapper" *ngIf="isEsteroNascita === 'true'">
                        <label for="comuneNascitaEstero" [ngClass]="{'active': !!comuneNascitaEstero}">
                            Luogo di nascita
                        </label>
                        <input type="text" [(ngModel)]="comuneNascitaEstero" (blur)="checkComuneNascitaEstero()"
                            [disabled]="true" class="data_input" id="comuneNascitaEstero" />
                        <span style="color:red" *ngIf="validComuneNascitaEstero === false"> Obbligatorio </span>
                    </div>
                    <div class="col select-wrapper" *ngIf="isEsteroNascita === 'false'">
                        <label for="codFiscaleRapLegale" [ngClass]="{'active': !!codiceFiscaleSS}">
                            Codice fiscale
                        </label>
                        <input type="text" [disabled]="true" [(ngModel)]="codiceFiscaleSS" (blur)="checkCodiceFiscale()"
                            [disabled]="true" class="data_input" id="codFiscaleRapLegale" />
                        <span style="color:red" *ngIf="validCodiceFiscale === false"> Codice fiscale valido
                            obbligatorio </span>
                    </div>
                </div>
                <div class="row margin-row-top">
                    <div class="col select-wrapper" *ngIf="isEsteroNascita === 'true'">
                        <label for="codFiscaleRapLegale" [ngClass]="{'active': !!codiceFiscaleSS}">
                            Codice fiscale
                        </label>
                        <input type="text" [disabled]="true" [(ngModel)]="codiceFiscaleSS" (blur)="checkCodiceFiscale()"
                            [disabled]="true" class="data_input" id="codFiscaleRapLegale" />
                        <span style="color:red" *ngIf="validCodiceFiscale === false"> Codice fiscale valido
                            obbligatorio </span>
                    </div>
                    <div class="col select-wrapper">
                        <label for="cittaRapSoc" [ngClass]="{'active': !!cittadinanza}">
                            Cittadinanza
                        </label>
                        <input type="text" [(ngModel)]="cittadinanza" (blur)="checkCittadinanza()" [disabled]="true"
                            class="data_input" id="cittaRapSoc" />
                        <span style="color:red" *ngIf="validCittadinanza === false"> Obbligatorio </span>
                    </div>
                    <div class="col select-wrapper">
                        <label for="pecRapLegale" [ngClass]="{'active': !!indirizzoPec}">
                            Indirizzo PEC
                        </label>
                        <input type="text" [(ngModel)]="indirizzoPec" (blur)="checkPec()" [disabled]="true"
                            class="data_input" id="indirizzoPec" />
                        <span style="color:red" *ngIf="validPec === false"> Obbligatorio </span>
                    </div>
                    <div class="col select-wrapper" *ngIf="isEsteroNascita === 'false'">
                        <label for="mailRapLegale" [ngClass]="{'active': !!indirizzoEmail}">
                            Altro Indirizzo Email
                        </label>
                        <input type="text" [(ngModel)]="indirizzoEmail" (blur)="checkMail()" [disabled]="true"
                            class="data_input" id="cellulareRapLegale" />
                        <span style="color:red" *ngIf="validMail === false"> Obbligatorio </span>
                    </div>
                </div>
                <div class="row margin-row-top" *ngIf="isEsteroNascita === 'true'">
                    <div class="col select-wrapper" >
                        <label for="mailRapLegale" [ngClass]="{'active': !!indirizzoEmail}">
                            Altro Indirizzo Email
                        </label>
                        <input type="text" [(ngModel)]="indirizzoEmail" (blur)="checkMail()" [disabled]="true"
                            class="data_input" id="cellulareRapLegale" />
                        <span style="color:red" *ngIf="validMail === false"> Obbligatorio </span>
                    </div>
                    <div class="col select-wrapper" ></div>
                        <div class="col select-wrapper" ></div>
                </div>
                <div class="row margin-row-top">
                    <p class="fw-semibold h6">Residenza:</p>
                </div>
                <hr />
                <div class="row margin-row-top">
                    <div class="col select-wrapper">
                        <label for="isEsteroResidenza">Stato di Residenza*</label>
                        <select type="text" [(ngModel)]="isEsteroResidenza" [disabled]="true" id="isEsteroResidenza"
                            class="data_input">
                            <option [value]="'false'">Italia</option>
                            <option [value]="'true'">Estero</option>
                        </select>
                    </div>
                    <div class="col select-wrapper" *ngIf="isEsteroResidenza == 'false'">
                        <label for="comune" class="active">Comune*</label>
                        <input aria-expanded="false" [(ngModel)]="comuneSceltoResidenza" [disabled]="true"
                            (blur)="checkComuneSceltoResidenza()" (input)="loadComuneResidenza($event)"
                            class="data_input" autocomplete="off" id="comune" type="text"
                            [placeholder]="'Digitare le iniziali di un Comune'">
                        <span style="color:red" *ngIf="validComuneSceltoResidenza === false"> Obbligatorio </span>

                        <ul *ngIf="showListComuneResidenza"
                            class="autocomplete__menu autocomplete__menu--inline autocomplete__menu--inline select-liste-ul"
                            id="comuneResidenzaAutocompleteListbox" role="listbox">
                            <li aria-selected="false" class="autocomplete__option" role="option" tabindex="-1"
                                aria-posinset="1" aria-setsize="32" *ngFor="let comune of comuniResidenza"
                                (click)="selectComuneResidenza(comune.idCodComune, comune.nomeComune + ' (' + comune.regioneProvince.siglaProvincia + ')')">
                                {{comune.nomeComune + " (" + comune.regioneProvince.siglaProvincia + ")"}}
                            </li>
                        </ul>
                    </div>
                    <div class="col select-wrapper" *ngIf="isEsteroResidenza == 'true'">
                        <label for="comuneResidenzaEstero" [ngClass]="{'active': !!comuneResidenzaEstero}">
                            Luogo di residenza*
                        </label>
                        <input type="text" [(ngModel)]="comuneResidenzaEstero" (blur)="checkComuneResidenzaEstero()"
                            [disabled]="true" class="data_input" id="comuneResidenzaEstero" />
                        <span style="color:red" *ngIf="validComuneResidenzaEstero === false"> Obbligatorio </span>
                    </div>
                    <div class="col select-wrapper" *ngIf="isEsteroResidenza == 'true'">
                        <label for="statoDiResidenza" [ngClass]="{'active': !!statoResidenza}">
                            Nome Stato di residenza*
                        </label>
                        <input type="text" [(ngModel)]="statoResidenza" (blur)="checkStatoResidenza()" [disabled]="true"
                            class="data_input" id="statoDiResidenza" />
                        <span style="color:red" *ngIf="validStatoResidenza === false"> Obbligatorio </span>
                    </div>
                    <div class="col select-wrapper" *ngIf="isEsteroResidenza == 'false'">
                        <label for="indirizzoResidenza" [ngClass]="{'active': !!indirizzoResidenza}">
                            Via/Piazza*
                        </label>
                        <input type="text" [(ngModel)]="indirizzoResidenza" [disabled]="true" class="data_input"
                            id="indirizzoResidenza" (blur)="checkIndirizzoResidenza()" />
                        <span style="color:red" *ngIf="validIndirizzoResidenza === false"> Obbligatorio </span>
                    </div>
                </div>
                <div class="row margin-row-top">
                    <div class="col select-wrapper" *ngIf="isEsteroResidenza == 'true'">
                        <label for="indirizzoResidenza" [ngClass]="{'active': !!indirizzoResidenza}">
                            Via/Piazza*
                        </label>
                        <input type="text" [(ngModel)]="indirizzoResidenza" [disabled]="true" class="data_input"
                            id="indirizzoResidenza" (blur)="checkIndirizzoResidenza()" />
                        <span style="color:red" *ngIf="validIndirizzoResidenza === false"> Obbligatorio </span>
                    </div>
                    <div class="col select-wrapper">
                        <label for="numeroCivicoResidenza" [ngClass]="{'active': !!numeroCivicoResidenza}">
                            Numero civico*
                        </label>
                        <input type="text" [(ngModel)]="numeroCivicoResidenza" [disabled]="true" class="data_input"
                            id="numeroCivicoResidenza" (blur)="checkNumeroCivicoResidenza()" />
                        <span style="color:red" *ngIf="validNumeroCivicoResidenza === false"> Obbligatorio </span>
                    </div>
                    <div class="col select-wrapper">
                        <label for="capResidenza" [ngClass]="{'active': !!capResidenza}">
                            Cap*
                        </label>
                        <input type="text" [(ngModel)]="capResidenza" [disabled]="true" class="data_input"
                            id="capResidenza" (blur)="checkCapResidenza()" />
                        <span style="color:red" *ngIf="validCapResidenza === false"> Obbligatorio </span>
                    </div>
                    <div class="col select-wrapper" *ngIf="isEsteroResidenza == 'false'"></div>
                </div>
                <div class="row margin-row-top">
                    <div class="form-check">
                        <input id="checkboxDomicilio" type="checkbox" [disabled]="true" [(ngModel)]="domicilio">
                        <label for="checkboxDomicilio" class="fw-semibold">Domicilio (se diverso dalla
                            residenza):</label>
                    </div>
                </div>
                <hr />
                <div *ngIf="domicilio">
                    <div class="row margin-row-top">
                        <div class="col select-wrapper">
                            <label for="indirizzoDomicilio" [ngClass]="{'active': !!indirizzoDomicilio}">
                                Via/Piazza
                            </label>
                            <input type="text" [(ngModel)]="indirizzoDomicilio" [disabled]="true" class="data_input"
                                id="indirizzoDomicilio" />
                        </div>
                        <div class="col select-wrapper">
                            <label for="numeroDomicilio" [ngClass]="{'active': !!numeroCivicoDomicilio}">
                                Numero
                            </label>
                            <input type="text" [(ngModel)]="numeroCivicoDomicilio" [disabled]="true" class="data_input"
                                id="numeroDomicilio" />
                        </div>
                        <div class="col select-wrapper">
                            <label for="isEsteroDomicilio">Stato di domicilio</label>
                            <select type="text" [(ngModel)]="isEsteroDomicilio" [disabled]="true" id="isEsteroDomicilio"
                                class="data_input">
                                <option [value]="'false'">Italia</option>
                                <option [value]="'true'">Estero</option>
                            </select>
                        </div>
                    </div>
                    <div class="row margin-row-top">
                        <div class="col select-wrapper" *ngIf="isEsteroDomicilio == 'false'">
                            <label for="comuneDomicilio" class="active">Comune</label>
                            <input aria-expanded="false" [(ngModel)]="comuneSceltoDomicilio" [disabled]="true"
                                (input)="loadComuneDomicilio($event)" class="data_input" autocomplete="off"
                                id="comuneDomicilio" type="text" [placeholder]="'Digitare le iniziali di un Comune'">

                            <ul *ngIf="showListComuneDomicilio"
                                class="autocomplete__menu autocomplete__menu--inline autocomplete__menu--inline select-liste-ul"
                                id="comuneDomicilioAutocompleteListbox" role="listbox">
                                <li aria-selected="false" class="autocomplete__option" role="option" tabindex="-1"
                                    aria-posinset="1" aria-setsize="32" *ngFor="let comune of comuniDomicilio"
                                    (click)="selectComuneDomicilio(comune.idCodComune, comune.nomeComune + ' (' + comune.regioneProvince.siglaProvincia + ')')">
                                    {{comune.nomeComune + " (" + comune.regioneProvince.siglaProvincia + ")"}}
                                </li>
                            </ul>
                        </div>
                        <div class="col select-wrapper" *ngIf="isEsteroDomicilio == 'true'">
                            <label for="statoDomicilio" [ngClass]="{'active': !!statoDomicilio}">
                                Nome Stato di domicilio
                            </label>
                            <input type="text" [(ngModel)]="statoDomicilio" [disabled]="true" class="data_input"
                                id="statoDomicilio" />
                        </div>
                        <div class="col select-wrapper" *ngIf="isEsteroDomicilio == 'true'">
                            <label for="comuneDomicilioEstero" [ngClass]="{'active': !!comuneDomicilioEstero}">
                                Luogo di domicilio
                            </label>
                            <input type="text" [(ngModel)]="comuneDomicilioEstero" [disabled]="true" class="data_input"
                                id="comuneDomicilioEstero" />
                        </div>
                        <div class="col select-wrapper">
                            <label for="capDomicilio" [ngClass]="{'active': !!capDomicilio}">
                                Cap
                            </label>
                            <input type="text" [(ngModel)]="capDomicilio" [disabled]="true" class="data_input"
                                id="capDomicilio" />
                        </div>
                        <div class="col select-wrapper" *ngIf="isEsteroDomicilio == 'false'"></div>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button id="closeModal" hidden type="button" data-bs-dismiss="modal">Close modal</button>
                <button type="button" (click)="annullazione()"
                    [ngClass]="{'btn btn-menu-page-body float-end btn-outline-primary-min': true}">Annulla
                </button>
                <button id="closeModal" hidden type="button" data-bs-dismiss="modal">Close modal</button>
                <button class="btn btn-primary-min float-end btn-menu-page-body" data-bs-dismiss="modal"
                    type="button">Chiudi
                </button>
                <button type="button" (click)="validazione()"
                    [ngClass]="{'btn btn-secondary-min float-end btn-menu-page-body': true}">Convalida
                </button>


            </div>
        </div>